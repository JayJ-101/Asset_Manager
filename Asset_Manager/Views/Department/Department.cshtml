@model Department

@{
    var action = ViewContext.RouteData.Values["action"]!.ToString()!.Capitalize();
    ViewData["Title"] = $" | {action} Department";
}



<h1>@action Department</h1>

<form asp-action="@action" method="post">
    <input type="hidden" asp-for="DepartmentId" />

    @if (action == "Delete")
    {
        <p>Are you sure you want to delete this department?</p>
        <p><strong>Name:</strong> @Model.DepartmentName</p>
        <p><strong>Branch:</strong> @Model.Branch?.BranchName</p>
    }
    else
    {
        <div class="mb-3">
            <label class="form-label">Branch:</label>
            <select asp-for="BranchId" class="form-select"
                    asp-items='@new SelectList(ViewBag.Branches, "BranchId", "BranchName", Model.BranchId)'>
                <option value="">Select Branch</option>
            </select>
            <span asp-validation-for="BranchId" class="text-danger"></span>
        </div>

        <div class="mb-3">
            <label asp-for="DepartmentName" class="form-label"></label>
            <input asp-for="DepartmentName" class="form-control" />
            <span asp-validation-for="DepartmentName" class="text-danger"></span>
        </div>

       
    }

    <button type="submit" class="btn btn-primary">@action</button>
    <a asp-action="Index" class="btn btn-secondary">Cancel</a>
</form>